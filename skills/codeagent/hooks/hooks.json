{
  "description": "codeagent routing enforcement hook",
  "hooks": {
    "PreToolUse": [
      {
        "matcher": "Bash",
        "hooks": [
          {
            "type": "prompt",
            "prompt": "If the Bash command contains 'codeagent-wrapper' but does NOT contain '--backend' or '--agent' or '--parallel', respond with: DENY: codeagent-wrapper requires --backend, --agent, or --parallel flag. See codeagent skill for correct invocation syntax.\n\nIf the command does not contain 'codeagent-wrapper', or if it contains '--backend' or '--agent' or '--parallel', respond with: ALLOW"
          }
        ]
      }
    ]
  }
}
